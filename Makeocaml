OCAMLC = ocamlc
OCAMLOPT = ocamlopt
OCAMLDEP = ocamldep
#INCLUDES = -I ~/keybow-firmware/bcm2835-1.58/src/
OCAMLFLAGS = -custom $(INCLUDES)

.SUFFIXES: .ml .mli .cmo .cmi .cmx

.ml.cmo:
	$(OCAMLC) $(OCAMLFLAGS) -c $<

.mli.cmi:
	$(OCAMLC) $(OCAMLFLAGS) -c $<

.ml.cmx:
	echo "test"
	$(OCAMLOPT) $(OCAMLFLAGS) -c $<

.DEFAULT: $(FILE)
	$(OCAMLC) $(OCAMLFLAGS) $^

.depend:
	$(OCAMLDEP) $(INCLUDES) *.mli *.ml > .depend

include .depend
